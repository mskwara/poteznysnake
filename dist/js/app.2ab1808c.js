(function(e){function t(t){for(var i,r,o=t[0],l=t[1],p=t[2],c=0,h=[];c<o.length;c++)r=o[c],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(h.length)h.shift()();return n.push.apply(n,p||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],i=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(i=!1)}i&&(n.splice(t--,1),e=r(r.s=s[0]))}return e}var i={},a={app:0},n=[];function r(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=i,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var p=0;p<o.length;p++)t(o[p]);var d=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var i=s("85ec"),a=s.n(i);a.a},1:function(e,t){},"14c5":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"mainView"},[s("div",{staticClass:"scores"},["coop"==e.gameMode||"single"==e.gameMode?s("p",{staticStyle:{"margin-left":"20px"}},[e._v("Liczba punktów: "+e._s(e.snake1.points+e.snake2.points))]):e._e(),"battle"==e.gameMode?s("p",{staticStyle:{"margin-left":"20px"}},[e._v("Gracz 1: "+e._s(e.snake1.points)+" punktów"),s("br"),s("br"),e._v("Gracz 2: "+e._s(e.snake2.points)+" punktów")]):e._e(),s("scoreboard",{attrs:{list:e.ranking}})],1),s("div",{style:e.setMap(),attrs:{id:"map"}},[e.sleeping>0?s("p",{staticClass:"sleepTimer"},[e._v(e._s(e.sleeping))]):e._e(),e._l(e.snake1.parts,(function(t){return s("div",{key:e.snake1.snakeId+t.id,class:e.snakeClass(t.id,e.snake1),style:e.partPosition(t)})})),"single"!=e.gameMode?s("div",e._l(e.snake2.parts,(function(t){return s("div",{key:e.snake2.snakeId+t.id,class:e.snakeClass(t.id,e.snake2),style:e.partPosition(t)})})),0):e._e(),s("div",{staticClass:"apple",style:e.applePosition(e.apple)}),1==e.animal.visible?s("div",[s("div",{staticClass:"animal",style:e.applePosition(e.animal)})]):e._e()],2),s("div",{staticClass:"menuPanel"},[s("md-list",{staticClass:"md-double-line"},[s("md-subheader",[e._v("Ustawienia")]),s("md-list-item",[s("md-icon",{staticClass:"md-primary"},[e._v("extension")]),s("div",{staticClass:"md-list-item-text"},[s("span",{staticStyle:{"text-transform":"uppercase"}},[e._v(e._s(e.gameMode))]),s("span",[e._v("Tryb gry")])]),s("md-button",{staticClass:"md-primary md-raised",attrs:{disabled:e.alive},on:{click:function(t){return e.changeMode()}}},[e._v("Zmień")])],1),s("md-list-item",[s("md-icon",{staticClass:"md-primary"},[e._v("photo_size_select_small")]),s("div",{staticClass:"md-list-item-text"},[s("span",[s("range-slider",{staticClass:"slider",attrs:{disabled:e.alive,min:"8",max:"16",step:"1"},model:{value:e.mapSize,callback:function(t){e.mapSize=t},expression:"mapSize"}}),e._v(e._s(e.mapSize))],1),s("span",[e._v("Rozmiar mapy")])])],1),s("md-list-item",[s("md-icon",{staticClass:"md-primary"},[e._v("cached")]),s("div",{staticClass:"md-list-item-text"},[s("span",[e._v("Restart")])]),s("md-button",{staticClass:"md-primary md-raised",on:{click:function(t){return e.reset()}}},[e._v("Restart")])],1),s("md-list-item",[s("md-icon",{staticClass:"md-primary"},[e._v("fingerprint")]),s("div",{staticClass:"md-list-item-text"},[s("span",{staticClass:"copyright"},[e._v("Game created by Michał Skwara")])])],1)],1)],1)]),s("md-dialog-confirm",{attrs:{"md-active":e.gameOverAlert,"md-title":"GAME OVER","md-content":e.alertText,"md-confirm-text":"Jeszcze raz","md-cancel-text":"Chcę zapisać wynik"},on:{"update:mdActive":function(t){e.gameOverAlert=t},"update:md-active":function(t){e.gameOverAlert=t},"md-confirm":e.reset,"md-cancel":function(t){return e.wannaSave()}}}),s("md-snackbar",{attrs:{"md-duration":e.duration,"md-active":e.snackbarError,"md-persistent":""},on:{"update:mdActive":function(t){e.snackbarError=t},"update:md-active":function(t){e.snackbarError=t}}},[e._v(" Zdobądź więcej punktów lub zmień tryb gry! ")]),s("md-dialog-confirm",{attrs:{"md-active":e.victory,"md-title":"WYGRAŁEŚ","md-content":"Jesteś mistrzem tej gry! Gratulacje!","md-confirm-text":"Jeszcze raz"},on:{"update:mdActive":function(t){e.victory=t},"update:md-active":function(t){e.victory=t},"md-confirm":e.reset}}),s("md-dialog-prompt",{attrs:{"md-active":e.saving,"md-title":"Zapisz swój wynik","md-input-maxlength":"15","md-input-placeholder":"Podaj swój nick...","md-cancel-text":"Powrót","md-confirm-text":"Zapisz"},on:{"update:mdActive":function(t){e.saving=t},"update:md-active":function(t){e.saving=t},"md-confirm":e.postScore},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1)},n=[],r=(s("a434"),s("b0c0"),s("c7e3")),o=s.n(r),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("md-table",{attrs:{"md-sort":"score","md-sort-order":"asc","md-card":""},scopedSlots:e._u([{key:"md-table-row",fn:function(t){var i=t.item;return s("md-table-row",{},[s("md-table-cell",{attrs:{"md-label":"Name","md-sort-by":"name"}},[e._v(e._s(i.name))]),s("md-table-cell",{attrs:{"md-label":"Score","md-sort-by":"score"}},[e._v(e._s(i.score))]),s("md-table-cell",{staticStyle:{"text-transform":"uppercase"},attrs:{"md-label":"Mode","md-sort-by":"score"}},[e._v(e._s(i.mode))])],1)}}]),model:{value:e.list,callback:function(t){e.list=t},expression:"list"}},[s("md-table-toolbar",[s("h1",{staticClass:"md-title"},[e._v("TOP 10")])])],1)],1)},p=[],d={props:["list"],methods:{}},c=d,h=(s("72e1"),s("2877")),m=Object(h["a"])(c,l,p,!1,null,null,null),u=m.exports,k=(s("2760"),{components:{RangeSlider:o.a,Scoreboard:u},data:function(){return{SIZE:40,duration:3e3,ranking:[],snackbarError:!1,user:{name:"",score:0,mode:""},saving:!1,snake1:{snakeId:"1",parts:[{id:0,x:4,y:6},{id:1,x:3,y:6},{id:2,x:2,y:6},{id:3,x:1,y:6},{id:4,x:0,y:6}],nextId:5,direction:"right",snakeLength:5,alreadyTurned:!1,nextMoves:[],isAppleEaten:!1,isAnimalEaten:!1,points:0,color:"green"},snake2:{snakeId:"2",parts:[{id:0,x:4,y:2},{id:1,x:3,y:2},{id:2,x:2,y:2},{id:3,x:1,y:2},{id:4,x:0,y:2}],nextId:5,direction:"right",snakeLength:5,alreadyTurned:!1,nextMoves:[],isAppleEaten:!1,isAnimalEaten:!1,points:0,color:"orange"},gameMode:"single",alive:!1,speed:200,mapSize:10,apple:{x:8,y:8},animal:{x:-2,y:-2,value:15,visible:!1,eaten:!1,wasDisplayed:!1},sleeping:3,pointsFactor:1,applesCount:0,whyDied:"",gameOverAlert:!1,alertText:"Koniec gry",victory:!1,scoreboard:""}},mounted:function(){var e=this;this.$http.get("scoreboard").then((function(t){e.ranking=t.body})),this.sleep(3),this.putApple("apple"),window.addEventListener("keyup",(function(t){37==t.keyCode&&e.turn("left",e.snake1),38==t.keyCode&&e.turn("up",e.snake1),39==t.keyCode&&e.turn("right",e.snake1),40==t.keyCode&&e.turn("down",e.snake1),65==t.keyCode&&e.turn("left",e.snake2),87==t.keyCode&&e.turn("up",e.snake2),68==t.keyCode&&e.turn("right",e.snake2),83==t.keyCode&&e.turn("down",e.snake2)}))},methods:{wannaSave:function(){this.snake1.points+this.snake2.points!=0&&"battle"!=this.gameMode?this.saving=!0:this.snackbarError=!0},saveBtn:function(){this.saving=!0},postScore:function(){"single"==this.gameMode&&(this.user.score=this.snake1.points),"coop"==this.gameMode&&(this.user.score=this.snake1.points+this.snake2.points),this.user.mode=this.gameMode,this.$http.post("addscore",this.user),this.user.name="",this.user.score=0,this.user.mode=""},changeMode:function(){"coop"==this.gameMode?this.gameMode="battle":"battle"==this.gameMode?this.gameMode="single":"single"==this.gameMode&&(this.gameMode="coop")},partPosition:function(e){var t={top:this.SIZE*e.y+"px",left:this.SIZE*e.x+"px"};return t},applePosition:function(e){var t={top:this.SIZE*e.y+"px",left:this.SIZE*e.x+"px"};return t},snakeClass:function(e,t){return"green"==t.color?0==e?"snake_head":"snake_part1":"orange"==t.color?0==e?"snake_head":"snake_part2":void 0},setMap:function(){var e={width:40*this.mapSize+1+"px",height:40*this.mapSize+1+"px"};return e},checkSnakeAlive:function(e){if(-1==e.parts[0].x||e.parts[0].x==this.mapSize||-1==e.parts[0].y||e.parts[0].y==this.mapSize)this.alive=!1,this.whyDied=e.snakeId+" za mapą";else for(var t=e.snakeLength-1;t>0;t--)if(Object(e.parts[t]).y==e.parts[0].y&&Object(e.parts[t]).x==e.parts[0].x){this.alive=!1,this.whyDied=e.snakeId+" sie sam zjadł";break}},checkSnakeEatSnake:function(){if(this.snake1.parts[0].x==this.snake2.parts[0].x&&this.snake1.parts[0].y==this.snake2.parts[0].y)return this.alive=!1,void(this.whyDied="Czołówka!!");for(var e=0;e<this.snake2.snakeLength;e++)this.snake1.parts[0].x==this.snake2.parts[e].x&&this.snake1.parts[0].y==this.snake2.parts[e].y&&(this.alive=!1,this.whyDied="Gracz 1 sie wyłożył");for(var t=0;t<this.snake1.snakeLength;t++)this.snake2.parts[0].x==this.snake1.parts[t].x&&this.snake2.parts[0].y==this.snake1.parts[t].y&&(this.alive=!1,this.whyDied="Gracz 2 sie wyłożył")},checkAppleEaten:function(e){e.parts[0].x==this.apple.x&&e.parts[0].y==this.apple.y&&(e.isAppleEaten=!0,e.points+=10*this.pointsFactor,this.applesCount++,this.applesCount==this.mapSize*this.mapSize-5&&(this.victory=!0,this.alive=!1),this.putApple("apple"))},checkAnimalEaten:function(e){e.parts[0].x==this.animal.x&&e.parts[0].y==this.animal.y&&(e.isAnimalEaten=!0,e.points+=this.animal.value*this.pointsFactor,this.applesCount++,this.applesCount==this.mapSize*this.mapSize-5&&(this.victory=!0,this.alive=!1))},update:function(){this.alive&&(this.move(this.snake1),"single"!=this.gameMode&&this.move(this.snake2),this.checkSnakeAlive(this.snake1),"single"!=this.gameMode&&this.checkSnakeAlive(this.snake2),"single"!=this.gameMode&&this.checkSnakeEatSnake(),this.alive||this.gameOver(),this.checkAppleEaten(this.snake1),this.checkAnimalEaten(this.snake1),"single"!=this.gameMode&&(this.checkAppleEaten(this.snake2),this.checkAnimalEaten(this.snake2)),setTimeout(this.update,this.speed))},controlAnimalTime:function(e){var t=this;e>0&&(1!=this.snake1.isAnimalEaten&&1!=this.snake2.isAnimalEaten||(this.animal.visible=!1,this.animal.x=-2,this.animal.y=-2),setTimeout((function(){e-=1,t.controlAnimalTime(e)}),1e3)),0==e&&(this.animal.x=-2,this.animal.y=-2,this.animal.visible=!1)},gameOver:function(){this.alertText="Koniec gry. Wynik: "+this.snake1.points,"battle"==this.gameMode&&(this.snake1.points>this.snake2.points&&(this.alertText+=". Wygrywa gracz 1"),this.snake1.points<this.snake2.points&&(this.alertText+=". Wygrywa gracz 2"),this.snake1.points==this.snake2.points&&(this.alertText+=". Remis")),this.gameOverAlert=!0},move:function(e){if(1==e.isAppleEaten||1==e.isAnimalEaten){var t={};t.id=e.nextId,t.x=Object(e.parts[e.snakeLength-1]).x,t.y=Object(e.parts[e.snakeLength-1]).y,e.parts.push(t),e.snakeLength++,e.nextId++,1==e.isAppleEaten?e.isAppleEaten=!1:1==e.isAnimalEaten&&(e.isAnimalEaten=!1,this.animal.x=-2,this.animal.y=-2,this.animal.visible=!1),this.animal.wasDisplayed=!1}for(var s=e.snakeLength-1;s>0;s--)Object(e.parts[s]).y=e.parts[s-1].y,Object(e.parts[s]).x=e.parts[s-1].x;0!=e.nextMoves.length?("up"==e.nextMoves[0]?e.parts[0].y--:"right"==e.nextMoves[0]?e.parts[0].x++:"down"==e.nextMoves[0]?e.parts[0].y++:"left"==e.nextMoves[0]&&e.parts[0].x--,e.nextMoves.splice(0,1)):"up"==e.direction?e.parts[0].y--:"right"==e.direction?e.parts[0].x++:"down"==e.direction?e.parts[0].y++:"left"==e.direction&&e.parts[0].x--},turn:function(e,t){"up"==t.direction&&"down"==e||"right"==t.direction&&"left"==e||"down"==t.direction&&"up"==e||"left"==t.direction&&"right"==e||t.nextMoves.length<2&&(t.direction=e,t.nextMoves.push(e))},reset:function(){this.alive=!1,this.victory=!1,this.snake1.direction="right",this.snake2.direction="right",this.snake1.parts=[{id:0,x:4,y:6},{id:1,x:3,y:6},{id:2,x:2,y:6},{id:3,x:1,y:6},{id:4,x:0,y:6}],this.snake2.parts=[{id:0,x:4,y:2},{id:1,x:3,y:2},{id:2,x:2,y:2},{id:3,x:1,y:2},{id:4,x:0,y:2}],this.snake1.snakeLength=5,this.snake2.snakeLength=5,this.snake1.isAppleEaten=!1,this.snake2.isAppleEaten=!1,this.snake1.isAnimalEaten=!1,this.snake2.isAnimalEaten=!1,this.snake1.points=0,this.snake2.points=0,this.speed=200,this.pointsFactor=1,this.snake1.nextId=5,this.snake2.nextId=5,this.snake1.alreadyTurned=!1,this.snake2.alreadyTurned=!1,this.snake1.nextMoves=[],this.snake2.nextMoves=[],this.applesCount=0,this.putApple("apple"),this.sleep(3)},putApple:function(e){var t,s,i=!1;while(1!=i){i=!0,t=Math.floor(Math.random()*(this.mapSize-1-0+1)+0),s=Math.floor(Math.random()*(this.mapSize-1-0+1)+0);for(var a=this.snake1.snakeLength-1;a>=0;a--)if(Object(this.snake1.parts[a]).y==s&&Object(this.snake1.parts[a]).x==t){i=!1;break}if("single"!=this.gameMode)for(var n=this.snake2.snakeLength-1;n>=0;n--)if(Object(this.snake2.parts[n]).y==s&&Object(this.snake2.parts[n]).x==t){i=!1;break}"apple"==e&&t==this.animal.x&&s==this.animal.y?i=!1:"animal"==e&&t==this.apple.x&&s==this.apple.y&&(i=!1)}"apple"==e?(this.apple.x=t,this.apple.y=s):"animal"==e&&(this.animal.x=t,this.animal.y=s,this.animal.value+=15,this.animal.visible=!0,this.animal.wasDisplayed=!0)},sleep:function(e){var t=this;this.sleeping=e,this.sleeping>0&&setTimeout((function(){t.sleeping-=1,t.sleep(t.sleeping)}),1e3),0==this.sleeping&&(this.alive=!0,this.update())}}}),v=k,y=(s("034f"),Object(h["a"])(v,a,n,!1,null,null,null)),f=y.exports,g=s("43f9"),x=s.n(g),b=(s("51de"),s("e094"),s("28dd"));i["default"].use(b["a"]),i["default"].use(x.a),i["default"].config.productionTip=!1,new i["default"]({render:function(e){return e(f)}}).$mount("#app")},"72e1":function(e,t,s){"use strict";var i=s("14c5"),a=s.n(i);a.a},"85ec":function(e,t,s){}});
//# sourceMappingURL=app.2ab1808c.js.map